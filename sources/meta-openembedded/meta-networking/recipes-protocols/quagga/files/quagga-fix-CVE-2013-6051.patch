
From 8794e8d229dc9fe29ea31424883433d4880ef408
From: Paul Jakma <paul@quagga.net>
Date: Mon, 13 Feb 2012 13:53:07 +0000
Subject: bgpd: Fix regression in args consolidation, total should be inited from args

bgpd: Fix regression in args consolidation, total should be inited from args

* bgp_attr.c: (bgp_attr_unknown) total should be initialised from the args.

Upstream-Status: Backport

Signed-off-by: Kai Kang <kai.kang@windriver.com>
---

diff --git a/bgpd/bgp_attr.c b/bgpd/bgp_attr.c
index 65af824..839f64d 100644
--- a/bgpd/bgp_attr.c
+++ b/bgpd/bgp_attr.c

@@ -1646,7 +1646,7 @@
 static bgp_attr_parse_ret_t
 bgp_attr_unknown (struct bgp_attr_parser_args *args)
 {
-  bgp_size_t total;
+  bgp_size_t total = args->total;
   struct transit *transit;
   struct attr_extra *attre;
   struct peer *const peer = args->peer; 
